[env:seeed_xiao_esp32s3]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Library dependencies - using built-in BLE for compatibility
lib_deps = 
    bblanchon/ArduinoJson@^7.0.4
    
; Build flags optimized for XIAO ESP32-S3
build_flags = 
    -DCORE_DEBUG_LEVEL=1
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1

; Custom partition scheme for huge OUI Spy app
board_build.partitions = partitions_huge_app.csv

; Upload settings optimized for XIAO
upload_speed = 921600
monitor_port = /dev/cu.usbmodem*

; PSRAM configuration for XIAO ESP32-S3
board_build.arduino.memory_type = qio_opi
board_build.arduino.psram_type = opi

[env:seeed_xiao_esp32s3_no_psram]
; For XIAO ESP32-S3 without PSRAM (more common/cheaper variant)
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

lib_deps = 
    bblanchon/ArduinoJson@^7.0.4
    
build_flags = 
    -DCORE_DEBUG_LEVEL=1
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1

board_build.partitions = partitions_huge_app.csv
upload_speed = 921600
monitor_port = /dev/cu.usbmodem*
